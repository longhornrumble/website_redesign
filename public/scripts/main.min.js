const SCROLL_THRESHOLD=50,SWIPE_THRESHOLD=50,ANIMATION_DURATION=1500,FADE_IN_THRESHOLD=.1,SETUP_ANIMATION_THRESHOLD=.2;document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("header"),t=document.getElementById("logo-default"),s=document.getElementById("logo-scrolled");function n(){window.scrollY>50?(e?.classList.add("scrolled"),t?.classList.add("hidden"),s?.classList.remove("hidden")):(e?.classList.remove("scrolled"),t?.classList.remove("hidden"),s?.classList.add("hidden"))}window.addEventListener("scroll",n),n();const a=document.getElementById("mobile-menu-btn"),l=document.getElementById("mobile-menu"),o=document.querySelectorAll(".mobile-nav-link");function d(){a?.classList.remove("open"),l?.classList.remove("open"),a?.setAttribute("aria-expanded","false"),a?.focus()}a&&l&&(a.setAttribute("aria-expanded","false"),a.setAttribute("aria-controls","mobile-menu"),a.addEventListener("click",()=>{a.classList.contains("open")?d():function(){a?.classList.add("open"),l?.classList.add("open"),a?.setAttribute("aria-expanded","true");const e=l?.querySelector("a");e?.focus()}()}),o.forEach(e=>{e.addEventListener("click",d)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&a.classList.contains("open")&&d()}),l.addEventListener("keydown",e=>{if("Tab"!==e.key)return;const t=l.querySelectorAll("a[href], button:not([disabled])"),s=t[0],n=t[t.length-1];e.shiftKey&&document.activeElement===s?(e.preventDefault(),n?.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),s?.focus())}));document.querySelectorAll(".faq-btn").forEach(e=>{e.addEventListener("click",()=>{if(window.innerWidth<768){const t=e.closest(".faq-item");t?.classList.toggle("open")}})});const i=document.getElementById("billing-monthly"),r=document.getElementById("billing-annual"),c=document.getElementById("standard-price"),u=document.getElementById("premium-price"),m=document.getElementById("standard-billing-note"),h=document.getElementById("premium-billing-note"),g=document.getElementById("standard-cta"),L=document.getElementById("premium-cta-save"),b=document.getElementById("billing-message");function v(e){i?.setAttribute("aria-checked",(!e).toString()),r?.setAttribute("aria-checked",e.toString()),e?(c&&(c.textContent="120"),u&&(u.textContent="240"),m?.classList.remove("hidden"),h?.classList.remove("hidden"),g&&(g.textContent="Get Started â€” Save 20%"),L?.classList.remove("hidden"),b&&(b.textContent="Billed annually. Switch to monthly anytime."),r?.classList.add("bg-emerald-500","text-white"),r?.classList.remove("text-slate-600","hover:text-slate-900"),i?.classList.remove("bg-emerald-500","text-white"),i?.classList.add("text-slate-600","hover:text-slate-900")):(c&&(c.textContent="150"),u&&(u.textContent="300"),m?.classList.add("hidden"),h?.classList.add("hidden"),g&&(g.textContent="Get Started"),L?.classList.add("hidden"),b&&(b.textContent="Billed monthly. Switch to annual anytime."),i?.classList.add("bg-emerald-500","text-white"),i?.classList.remove("text-slate-600","hover:text-slate-900"),r?.classList.remove("bg-emerald-500","text-white"),r?.classList.add("text-slate-600","hover:text-slate-900"))}i&&r&&(i.setAttribute("role","radio"),i.setAttribute("aria-checked","true"),r.setAttribute("role","radio"),r.setAttribute("aria-checked","false"),i.addEventListener("click",()=>v(!1)),r.addEventListener("click",()=>v(!0)),[i,r].forEach(e=>{e.addEventListener("keydown",e=>{if("ArrowLeft"===e.key||"ArrowRight"===e.key){e.preventDefault();document.activeElement===i?(r.focus(),v(!0)):(i.focus(),v(!1))}})}));const f=document.querySelectorAll(".carousel-tab"),E=document.querySelectorAll(".carousel-slide"),y=document.querySelectorAll("[data-indicator]"),A=document.getElementById("carousel-slides"),w=E.length||3;let x=0,I=null;function p(e){x=e,f.forEach((t,s)=>{const n=s===e;t.setAttribute("aria-selected",n.toString()),t.setAttribute("tabindex",n?"0":"-1"),n?(t.classList.add("bg-emerald-500","text-white","shadow-lg","shadow-emerald-500/25"),t.classList.remove("bg-slate-800","text-slate-400","hover:bg-slate-700","hover:text-white")):(t.classList.remove("bg-emerald-500","text-white","shadow-lg","shadow-emerald-500/25"),t.classList.add("bg-slate-800","text-slate-400","hover:bg-slate-700","hover:text-white"))}),y.forEach((t,s)=>{s===e?(t.classList.add("w-8","bg-emerald-500"),t.classList.remove("w-2","bg-slate-700")):(t.classList.remove("w-8","bg-emerald-500"),t.classList.add("w-2","bg-slate-700"))}),E.forEach((t,s)=>{s===e?(t.classList.remove("hidden"),t.setAttribute("aria-hidden","false"),S(t)):(t.classList.add("hidden"),t.setAttribute("aria-hidden","true"))})}function S(e){e.querySelectorAll(".counter").forEach(e=>{const t=parseFloat(e.dataset.target),s=parseInt(e.dataset.decimals)||0;isNaN(t)||t<0?console.warn("Invalid counter target:",e.dataset.target):(e.textContent="0",function(e,t,s=1500,n=0){let a=0;const l=t/(s/16),o=setInterval(()=>{a+=l,a>=t?(e.textContent=n>0?t.toFixed(n):Math.floor(t).toLocaleString(),clearInterval(o)):e.textContent=n>0?a.toFixed(n):Math.floor(a).toLocaleString()},16)}(e,t,1500,s))})}f.forEach((e,t)=>{e.setAttribute("role","tab"),e.setAttribute("aria-selected",0===t?"true":"false"),e.setAttribute("tabindex",0===t?"0":"-1"),e.addEventListener("click",()=>p(t)),e.addEventListener("keydown",e=>{let t=x;"ArrowLeft"===e.key?(e.preventDefault(),t=(x-1+w)%w):"ArrowRight"===e.key?(e.preventDefault(),t=(x+1)%w):"Home"===e.key?(e.preventDefault(),t=0):"End"===e.key&&(e.preventDefault(),t=w-1),t!==x&&(p(t),f[t]?.focus())})}),E.forEach((e,t)=>{e.setAttribute("role","tabpanel"),e.setAttribute("aria-hidden",0===t?"false":"true")}),A&&(A.addEventListener("touchstart",e=>{I=e.touches[0].clientX}),A.addEventListener("touchend",e=>{if(!I)return;const t=e.changedTouches[0].clientX,s=I-t;Math.abs(s)>50&&(p(s>0?(x+1)%w:(x-1+w)%w),setTimeout(()=>{document.getElementById("slide-eyebrow")?.scrollIntoView({behavior:"smooth",block:"start"})},50)),I=null})),E.length>0&&S(E[0]);const k=document.querySelectorAll(".fade-in"),B=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.style.transitionDelay||"0ms",s=parseInt(t);setTimeout(()=>{e.target.classList.add("visible")},s)}})},{threshold:.1});k.forEach(e=>B.observe(e));const D=document.getElementById("setup"),q=document.querySelectorAll(".setup-dot");if(D&&q.length>0){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(q.forEach(e=>{const t=e.dataset.delay||"0s";e.style.animation="sequentialPulse 11s infinite",e.style.animationDelay=t}),e.unobserve(t.target))})},{threshold:.2});e.observe(D)}});